#ifndef TSMS_GT9147_H
#define TSMS_GT9147_H

// always note: the i2c address is 0x14 when INT is high, and 0x5D when INT is low
#define TSMS_GT9147_ID 0x39313437

#define TSMS_GT9147_REG_CTL 0
#define TSMS_GT9147_REG_CTL_ADDRESS 0x8040
#define TSMS_GT9147_REG_CONFIG_ADDRESS 0x8047
#define TSMS_GT9147_REG_CONFIG_CHECKSUM_ADDRESS 0x80FF
#define TSMS_GT9147_REG_ID_1 1
#define TSMS_GT9147_REG_ID_1_ADDRESS 0x8140
#define TSMS_GT9147_REG_ID_2 2
#define TSMS_GT9147_REG_ID_2_ADDRESS 0x8141
#define TSMS_GT9147_REG_ID_3 3
#define TSMS_GT9147_REG_ID_3_ADDRESS 0x8142
#define TSMS_GT9147_REG_ID_4 4
#define TSMS_GT9147_REG_ID_4_ADDRESS 0x8143
#define TSMS_GT9147_REG_STATUS 5
#define TSMS_GT9147_REG_STATUS_ADDRESS 0x814E
#define TSMS_GT9147_REG_TOUCH_1_X_L 6
#define TSMS_GT9147_REG_TOUCH_1_X_L_ADDRESS 0x8150
#define TSMS_GT9147_REG_TOUCH_1_X_H 7
#define TSMS_GT9147_REG_TOUCH_1_X_H_ADDRESS 0x8151
#define TSMS_GT9147_REG_TOUCH_1_Y_L 8
#define TSMS_GT9147_REG_TOUCH_1_Y_L_ADDRESS 0x8152
#define TSMS_GT9147_REG_TOUCH_1_Y_H 9
#define TSMS_GT9147_REG_TOUCH_1_Y_H_ADDRESS 0x8153
#define TSMS_GT9147_REG_TOUCH_1_SIZE_L 10
#define TSMS_GT9147_REG_TOUCH_1_SIZE_L_ADDRESS 0x8154
#define TSMS_GT9147_REG_TOUCH_1_SIZE_H 11
#define TSMS_GT9147_REG_TOUCH_1_SIZE_H_ADDRESS 0x8155
#define TSMS_GT9147_REG_TOUCH_2_X_L 12
#define TSMS_GT9147_REG_TOUCH_2_X_L_ADDRESS 0x8156
#define TSMS_GT9147_REG_TOUCH_2_X_H 13
#define TSMS_GT9147_REG_TOUCH_2_X_H_ADDRESS 0x8157

#include "tsms_def.h"

typedef struct TSMS_GT9147_HANDLER * TSMS_GT9147_HANDLER_POINTER;
typedef TSMS_GT9147_HANDLER_POINTER TSMS_GT9147;

struct TSMS_GT9147_HANDLER {
	TSMS_IHP iic;
	TSMS_GHP interrupt;
};

uint32_t TSMS_GT9147_readId(TSMS_THP touch);

TSMS_GT9147 TSMS_GT9147_createHandler(TSMS_IHP iic, TSMS_GHP interrupt);

TSMS_RESULT TSMS_GT9147_init(TSMS_THP touch, void * option);

#endif //TSMS_GT9147_H
